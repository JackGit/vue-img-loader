!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.VueImgLoader=e():t.VueImgLoader=e()}(this,function(){return function(t){function e(n){if(i[n])return i[n].exports;var r=i[n]={exports:{},id:n,loaded:!1};return t[n].call(r.exports,r,r.exports,e),r.loaded=!0,r.exports}var i={};return e.m=t,e.c=i,e.p="",e(0)}([function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}var r=i(1),a=n(r),s=i(8),o=n(s);a["default"].config=o["default"],a["default"].version="0.1.1",t.exports=a["default"]},function(t,e,i){var n,r;i(2),n=i(6);var a=i(10);r=n=n||{},"object"!=typeof n["default"]&&"function"!=typeof n["default"]||(r=n=n["default"]),"function"==typeof r&&(r=r.options),r.render=a.render,r.staticRenderFns=a.staticRenderFns,r._scopeId="data-v-2580cbd6",t.exports=n},function(t,e,i){var n=i(3);"string"==typeof n&&(n=[[t.id,n,""]]);i(5)(n,{});n.locals&&(t.exports=n.locals)},function(t,e,i){e=t.exports=i(4)(),e.push([t.id,".vil-image[data-v-2580cbd6],.vil-preview[data-v-2580cbd6]{position:absolute;top:0;left:0;width:100%;height:100%}.vil-preview__img[data-v-2580cbd6]{width:100%;height:100%}",""])},function(t,e){"use strict";t.exports=function(){var t=[];return t.toString=function(){for(var t=[],e=0;e<this.length;e++){var i=this[e];i[2]?t.push("@media "+i[2]+"{"+i[1]+"}"):t.push(i[1])}return t.join("")},t.i=function(e,i){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},r=0;r<this.length;r++){var a=this[r][0];"number"==typeof a&&(n[a]=!0)}for(r=0;r<e.length;r++){var s=e[r];"number"==typeof s[0]&&n[s[0]]||(i&&!s[2]?s[2]=i:i&&(s[2]="("+s[2]+") and ("+i+")"),t.push(s))}},t}},function(t,e,i){function n(t,e){for(var i=0;i<t.length;i++){var n=t[i],r=f[n.id];if(r){r.refs++;for(var a=0;a<r.parts.length;a++)r.parts[a](n.parts[a]);for(;a<n.parts.length;a++)r.parts.push(h(n.parts[a],e))}else{for(var s=[],a=0;a<n.parts.length;a++)s.push(h(n.parts[a],e));f[n.id]={id:n.id,refs:1,parts:s}}}}function r(t){for(var e=[],i={},n=0;n<t.length;n++){var r=t[n],a=r[0],s=r[1],o=r[2],h=r[3],u={css:s,media:o,sourceMap:h};i[a]?i[a].parts.push(u):e.push(i[a]={id:a,parts:[u]})}return e}function a(t,e){var i=p(),n=_[_.length-1];if("top"===t.insertAt)n?n.nextSibling?i.insertBefore(e,n.nextSibling):i.appendChild(e):i.insertBefore(e,i.firstChild),_.push(e);else{if("bottom"!==t.insertAt)throw new Error("Invalid value for parameter 'insertAt'. Must be 'top' or 'bottom'.");i.appendChild(e)}}function s(t){t.parentNode.removeChild(t);var e=_.indexOf(t);e>=0&&_.splice(e,1)}function o(t){var e=document.createElement("style");return e.type="text/css",a(t,e),e}function h(t,e){var i,n,r;if(e.singleton){var a=v++;i=g||(g=o(e)),n=u.bind(null,i,a,!1),r=u.bind(null,i,a,!0)}else i=o(e),n=l.bind(null,i),r=function(){s(i)};return n(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap)return;n(t=e)}else r()}}function u(t,e,i,n){var r=i?"":n.css;if(t.styleSheet)t.styleSheet.cssText=w(e,r);else{var a=document.createTextNode(r),s=t.childNodes;s[e]&&t.removeChild(s[e]),s.length?t.insertBefore(a,s[e]):t.appendChild(a)}}function l(t,e){var i=e.css,n=e.media,r=e.sourceMap;if(n&&t.setAttribute("media",n),r&&(i+="\n/*# sourceURL="+r.sources[0]+" */",i+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(r))))+" */"),t.styleSheet)t.styleSheet.cssText=i;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(i))}}var f={},d=function(t){var e;return function(){return"undefined"==typeof e&&(e=t.apply(this,arguments)),e}},c=d(function(){return/msie [6-9]\b/.test(window.navigator.userAgent.toLowerCase())}),p=d(function(){return document.head||document.getElementsByTagName("head")[0]}),g=null,v=0,_=[];t.exports=function(t,e){e=e||{},"undefined"==typeof e.singleton&&(e.singleton=c()),"undefined"==typeof e.insertAt&&(e.insertAt="bottom");var i=r(t);return n(i,e),function(t){for(var a=[],s=0;s<i.length;s++){var o=i[s],h=f[o.id];h.refs--,a.push(h)}if(t){var u=r(t);n(u,e)}for(var s=0;s<a.length;s++){var h=a[s];if(0===h.refs){for(var l=0;l<h.parts.length;l++)h.parts[l]();delete f[h.id]}}}};var w=function(){var t=[];return function(e,i){return t[e]=i,t.filter(Boolean).join("\n")}}()},function(t,e,i){"use strict";function n(t){return t&&t.__esModule?t:{"default":t}}Object.defineProperty(e,"__esModule",{value:!0});var r=i(7),a=n(r),s=i(8),o=n(s),h=i(9),u=n(h);e["default"]={props:{src:{type:String,"default":"",required:!0},preview:{type:String,"default":""},blurPreview:{type:Boolean,"default":function(){return o["default"].blurPreview}},blurRadius:{type:[String,Number],"default":function(){return o["default"].blurRadius}},blurAlphaChannel:{type:Boolean,"default":function(){return o["default"].blurAlphaChannel}},width:{type:[String,Number],"default":function(){return o["default"].width}},height:{type:[String,Number],"default":function(){return o["default"].height}},backgroundColor:{type:String,"default":function(){return o["default"].backgroundColor}},transition:{type:String,"default":function(){return o["default"].transition}},lazy:{type:Boolean,"default":function(){return o["default"].lazy}},autoClip:{type:Boolean,"default":!0}},data:function(){return{containerStyle:{position:"relative",overflow:"hidden",display:"inline-block"},loading:!0}},mounted:function(){this.setContainerStyle(),this.preview&&this.loadPreview(),this.loadImage()},methods:{setContainerStyle:function(){var t=this.$el.parentElement;this.containerStyle={position:"relative",overflow:"hidden",display:"inline-block",width:this.width?this.width+"px":t.clientWidth+"px",height:this.height?this.height+"px":t.clientHeight+"px",backgroundColor:this.backgroundColor||"initial"}},blurCanvas:function(t){var e=this.$refs.canvas;a["default"].image(t,e,this.blurRadius,this.blurAlphaChannel),e.style.width="100%",e.style.height="100%"},loadPreview:function(){var t=this,e=new Image;e.alt="",e.src=this.preview,this.autoClip||(e.width=this.width,e.height=this.height),e.onload=function(){t.blurPreview&&t.blurCanvas(e),t.autoClip&&t.autoClipImage(t.$refs.preview,e.naturalWidth,e.naturalHeight)}},loadImage:function(){var t=this,e=new Image;this.loading=!0,e.alt="",e.src=this.src,this.autoClip||(e.width=this.width,e.height=this.height),e.onload=function(){t.loading=!1,t.autoClip&&t.autoClipImage(t.$refs.img,e.naturalWidth,e.naturalHeight)}},autoClipImage:function(t,e,i){var n=new u["default"](this.width,this.height,e,i,{type:"cover"});t.style.width=n.newWidth()+"px",t.style.height=n.newHeight()+"px",t.style.top=n.offset().top+"px",t.style.left=n.offset().left+"px"}}}},function(t,e){"use strict";function i(t,e,i,n){if("string"==typeof t)var t=document.getElementById(t);else if("undefined"!=typeof HTMLImageElement&&!t instanceof HTMLImageElement)return;var a=t.naturalWidth,o=t.naturalHeight;if("string"==typeof e)var e=document.getElementById(e);else if("undefined"!=typeof HTMLCanvasElement&&!e instanceof HTMLCanvasElement)return;e.style.width=a+"px",e.style.height=o+"px",e.width=a,e.height=o;var h=e.getContext("2d");h.clearRect(0,0,a,o),h.drawImage(t,0,0),isNaN(i)||i<1||(n?r(e,0,0,a,o,i):s(e,0,0,a,o,i))}function n(t,e,i,n,r){if("string"==typeof t)var t=document.getElementById(t);else if("undefined"!=typeof HTMLCanvasElement&&!t instanceof HTMLCanvasElement)return;var a,s=t.getContext("2d");try{try{a=s.getImageData(e,i,n,r)}catch(o){throw new Error("unable to access local image data: "+o)}}catch(o){throw new Error("unable to access image data: "+o)}return a}function r(t,e,i,r,s,o){if(!(isNaN(o)||o<1)){o|=0;var h=n(t,e,i,r,s);h=a(h,e,i,r,s,o),t.getContext("2d").putImageData(h,e,i)}}function a(t,e,i,n,r,a){var s,o,f,d,c,p,g,v,_,w,m,b,y,x,C,H,W,I,S,N,B,M,E,R,A=t.data,L=a+a+1,P=n-1,T=r-1,j=a+1,k=j*(j+1)/2,D=new h,G=D;for(f=1;f<L;f++)if(G=G.next=new h,f==j)var O=G;G.next=D;var $=null,z=null;g=p=0;var F=u[a],U=l[a];for(o=0;o<r;o++){for(H=W=I=S=v=_=w=m=0,b=j*(N=A[p]),y=j*(B=A[p+1]),x=j*(M=A[p+2]),C=j*(E=A[p+3]),v+=k*N,_+=k*B,w+=k*M,m+=k*E,G=D,f=0;f<j;f++)G.r=N,G.g=B,G.b=M,G.a=E,G=G.next;for(f=1;f<j;f++)d=p+((P<f?P:f)<<2),v+=(G.r=N=A[d])*(R=j-f),_+=(G.g=B=A[d+1])*R,w+=(G.b=M=A[d+2])*R,m+=(G.a=E=A[d+3])*R,H+=N,W+=B,I+=M,S+=E,G=G.next;for($=D,z=O,s=0;s<n;s++)A[p+3]=E=m*F>>U,0!=E?(E=255/E,A[p]=(v*F>>U)*E,A[p+1]=(_*F>>U)*E,A[p+2]=(w*F>>U)*E):A[p]=A[p+1]=A[p+2]=0,v-=b,_-=y,w-=x,m-=C,b-=$.r,y-=$.g,x-=$.b,C-=$.a,d=g+((d=s+a+1)<P?d:P)<<2,H+=$.r=A[d],W+=$.g=A[d+1],I+=$.b=A[d+2],S+=$.a=A[d+3],v+=H,_+=W,w+=I,m+=S,$=$.next,b+=N=z.r,y+=B=z.g,x+=M=z.b,C+=E=z.a,H-=N,W-=B,I-=M,S-=E,z=z.next,p+=4;g+=n}for(s=0;s<n;s++){for(W=I=S=H=_=w=m=v=0,p=s<<2,b=j*(N=A[p]),y=j*(B=A[p+1]),x=j*(M=A[p+2]),C=j*(E=A[p+3]),v+=k*N,_+=k*B,w+=k*M,m+=k*E,G=D,f=0;f<j;f++)G.r=N,G.g=B,G.b=M,G.a=E,G=G.next;for(c=n,f=1;f<=a;f++)p=c+s<<2,v+=(G.r=N=A[p])*(R=j-f),_+=(G.g=B=A[p+1])*R,w+=(G.b=M=A[p+2])*R,m+=(G.a=E=A[p+3])*R,H+=N,W+=B,I+=M,S+=E,G=G.next,f<T&&(c+=n);for(p=s,$=D,z=O,o=0;o<r;o++)d=p<<2,A[d+3]=E=m*F>>U,E>0?(E=255/E,A[d]=(v*F>>U)*E,A[d+1]=(_*F>>U)*E,A[d+2]=(w*F>>U)*E):A[d]=A[d+1]=A[d+2]=0,v-=b,_-=y,w-=x,m-=C,b-=$.r,y-=$.g,x-=$.b,C-=$.a,d=s+((d=o+j)<T?d:T)*n<<2,v+=H+=$.r=A[d],_+=W+=$.g=A[d+1],w+=I+=$.b=A[d+2],m+=S+=$.a=A[d+3],$=$.next,b+=N=z.r,y+=B=z.g,x+=M=z.b,C+=E=z.a,H-=N,W-=B,I-=M,S-=E,z=z.next,p+=n}return t}function s(t,e,i,r,a,s){if(!(isNaN(s)||s<1)){s|=0;var h=n(t,e,i,r,a);h=o(h,e,i,r,a,s),t.getContext("2d").putImageData(h,e,i)}}function o(t,e,i,n,r,a){var s,o,f,d,c,p,g,v,_,w,m,b,y,x,C,H,W,I,S,N,B=t.data,M=a+a+1,E=n-1,R=r-1,A=a+1,L=A*(A+1)/2,P=new h,T=P;for(f=1;f<M;f++)if(T=T.next=new h,f==A)var j=T;T.next=P;var k=null,D=null;g=p=0;var G=u[a],O=l[a];for(o=0;o<r;o++){for(x=C=H=v=_=w=0,m=A*(W=B[p]),b=A*(I=B[p+1]),y=A*(S=B[p+2]),v+=L*W,_+=L*I,w+=L*S,T=P,f=0;f<A;f++)T.r=W,T.g=I,T.b=S,T=T.next;for(f=1;f<A;f++)d=p+((E<f?E:f)<<2),v+=(T.r=W=B[d])*(N=A-f),_+=(T.g=I=B[d+1])*N,w+=(T.b=S=B[d+2])*N,x+=W,C+=I,H+=S,T=T.next;for(k=P,D=j,s=0;s<n;s++)B[p]=v*G>>O,B[p+1]=_*G>>O,B[p+2]=w*G>>O,v-=m,_-=b,w-=y,m-=k.r,b-=k.g,y-=k.b,d=g+((d=s+a+1)<E?d:E)<<2,x+=k.r=B[d],C+=k.g=B[d+1],H+=k.b=B[d+2],v+=x,_+=C,w+=H,k=k.next,m+=W=D.r,b+=I=D.g,y+=S=D.b,x-=W,C-=I,H-=S,D=D.next,p+=4;g+=n}for(s=0;s<n;s++){for(C=H=x=_=w=v=0,p=s<<2,m=A*(W=B[p]),b=A*(I=B[p+1]),y=A*(S=B[p+2]),v+=L*W,_+=L*I,w+=L*S,T=P,f=0;f<A;f++)T.r=W,T.g=I,T.b=S,T=T.next;for(c=n,f=1;f<=a;f++)p=c+s<<2,v+=(T.r=W=B[p])*(N=A-f),_+=(T.g=I=B[p+1])*N,w+=(T.b=S=B[p+2])*N,x+=W,C+=I,H+=S,T=T.next,f<R&&(c+=n);for(p=s,k=P,D=j,o=0;o<r;o++)d=p<<2,B[d]=v*G>>O,B[d+1]=_*G>>O,B[d+2]=w*G>>O,v-=m,_-=b,w-=y,m-=k.r,b-=k.g,y-=k.b,d=s+((d=o+A)<R?d:R)*n<<2,v+=x+=k.r=B[d],_+=C+=k.g=B[d+1],w+=H+=k.b=B[d+2],k=k.next,m+=W=D.r,b+=I=D.g,y+=S=D.b,x-=W,C-=I,H-=S,D=D.next,p+=n}return t}function h(){this.r=0,this.g=0,this.b=0,this.a=0,this.next=null}var u=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259],l=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];t.exports={image:i,canvasRGBA:r,canvasRGB:s,imageDataRGBA:a,imageDataRGB:o}},function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e["default"]={blurPreview:!0,blurRadius:20,blurAlphaChannel:!1,width:0,height:0,lazy:!1,backgroundColor:"",transition:""}},function(t,e){"use strict";function i(t,e,i,n,r){var a={type:"contain"};for(var s in a)r[s]&&(a[s]=r[s]);switch(this.options=a,this._cWidth=t,this._cHeight=e,this._iWidth=i,this._iHeight=n,this._offset={top:0,left:0},this._newHeight=0,this._newWidth=0,this._ratio=1,this.options.type){case"contain":this._containCenter();break;case"cover":this._coverCenter()}}t.exports=i,i.prototype={constructor:i,_coverCenter:function(){var t=this._iWidth/this._iHeight,e=this._cWidth/this._cHeight,i=1;t>e?(i=this._cHeight/this._iHeight,this._newWidth=this._iWidth*i,this._newHeight=this._iHeight*i,this._offset={top:0,left:(this._newWidth-this._cWidth)/-2}):t<e?(i=this._cWidth/this._iWidth,this._newWidth=this._iWidth*i,this._newHeight=this._iHeight*i,this._offset={top:(this._newHeight-this._cHeight)/-2,left:0}):(i=this._cWidth/this._iWidth,this._newWidth=this._iWidth*i,this._newHeight=this._iHeight*i,this._offset={top:0,left:0}),this._ratio=i},_containCenter:function(){var t=this._iWidth/this._iHeight,e=this._cWidth/this._cHeight,i=1;t>e?(i=this._cWidth/this._iWidth,this._newWidth=this._iWidth*i,this._newHeight=this._iHeight*i,this._offset={top:(this._cHeight-this._newHeight)/2,left:0}):t<e?(i=this._cHeight/this._iHeight,this._newWidth=this._iWidth*i,this._newHeight=this._iHeight*i,this._offset={top:0,left:(this._cWidth-this._newWidth)/2}):(i=this._cHeight/this._iHeight,this._newWidth=this._iWidth*i,this._newHeight=this._iHeight*i,this._offset={top:0,left:0}),this._ratio=i},ratio:function(){return this._ratio},offset:function(){return this._offset},newWidth:function(){return this._newWidth},newHeight:function(){return this._newHeight},map:function(t,e,i){var n=this._newWidth/this._iWidth,r={x:0,y:0};return r.x=t*n,r.y=e*n,i||(r.x+=this.offset().left,r.y+=this.offset().top),r}}},function(module,exports){module.exports={render:function(){with(this)return _h("div",{style:containerStyle},[_h("img",{directives:[{name:"show",rawName:"v-show",value:!loading,expression:"!loading"}],ref:"img",staticClass:"vil-image",attrs:{alt:"",src:src}})," ",_h("transition",{attrs:{name:transition}},[loading?_h("div",{staticClass:"vil-preview"},[preview&&blurPreview?_h("canvas",{ref:"canvas"}):_e()," ",_h("img",{directives:[{name:"show",rawName:"v-show",value:preview&&!blurPreview,expression:"preview && !blurPreview"}],ref:"preview",staticClass:"vil-preview__img",attrs:{src:preview,alt:""}})," ",_t("default")]):_e()])])},staticRenderFns:[]}}])});